!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("knockout"),require("jquery"),require("@aspnet/signalr")):"function"==typeof define&&define.amd?define(["knockout","jquery","@aspnet/signalr"],t):"object"==typeof exports?exports.dotnetify=t(require("knockout"),require("jquery"),require("@aspnet/signalr")):e.dotnetify=t(e.ko,e.jQuery,e.signalR)}(window,function(e,t,n){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"trim",value:function(e){if("string"!=typeof e)return"";for(;e.indexOf("/",e.length-1)>=0;)e=e.substr(0,e.length-1);for(;0==e.indexOf("/");)e=e.substr(1,e.length-1);return e}},{key:"equal",value:function(e,t){return null!=e&&null!=t&&e.toLowerCase()==t.toLowerCase()}},{key:"startsWith",value:function(e,t){return e.toLowerCase().slice(0,t.length)==t.toLowerCase()}},{key:"endsWith",value:function(e,t){return""==t||e.toLowerCase().slice(-t.length)==t.toLowerCase()}},{key:"dispatchEvent",value:function(e){if("function"==typeof Event)window.dispatchEvent(new Event(e));else{var t=document.createEvent("CustomEvent");t.initEvent(e,!0,!0),window.dispatchEvent(t)}}},{key:"grep",value:function(e,t){return Array.isArray(e)?e.filter(t):[]}}]),e}();t.createEventEmitter=function(e){var t=[];return{emit:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=!1;return t.forEach(function(e){o=e.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n))||o}),o},subscribe:function(e){return!t.includes(e)&&t.push(e),function(){return t=t.filter(function(t){return t!==e})}}}};t.default=new o},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=a(n(20)),i=a(n(1));n(11);var u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));function a(e){return e&&e.__esModule?e:{default:e}}u.mapping=n(10);var s=window.dotnetify||o.default;s.ko={version:"2.0.0",controller:s,_responseSubs:null,_connectedSubs:null,_responseVM:function(e,t){var n=e,r=null;n.indexOf("$")>=0&&(n=(o=e.split("$"))[0],r=o[1]);var o,u="[data-vm='"+n+"']";if((o=n.split(".")).length>1){u="";var a=0;for(a=0;a<o.length-1;a++)u+="[data-master-vm='"+o[a]+"'] ";u+="[data-vm='"+o[a]+"']"}null!=r&&(u+="[data-vm-id='"+r+"']");var l=(0,i.default)(u);return l.length>0&&(s.checkServerSideException(e,t),l.data("ko-dotnetify").UpdateVM(t),!0)},init:function(){var e=s.ko,t=function(){i.default.each((0,i.default)("[data-vm]"),function(){(0,i.default)(this).dotnetify()})};e._responseSubs||(e._responseSubs=s.responseEvent.subscribe(e._responseVM)),e._connectedSubs||(e._connectedSubs=s.connectedEvent.subscribe(function(){t()})),setTimeout(function(){s.offline&&!s.isConnected()&&(t(),s.isOffline=!0,(0,i.default)(document).trigger("offline",s.isOffline))},s.offlineTimeout),s.initHub(),s.startHub(),s.hub.stateChanged(function(e){s.debug&&console.log("SignalR: "+e);var t="connected"!=e;s.isOffline!=t&&(s.isOffline=t,(0,i.default)(document).trigger("offline",s.isOffline))}),s.offline&&t()},destroy:function(e){(e?(0,i.default)(e).find("[data-vm]").addBack(e):(0,i.default)("[data-vm]")).toArray().forEach(function(e){var t=s.ko.widget(e);t&&t.destroy()})},getViewModels:function(){s.ko;return(0,i.default)("[data-vm]").toArray().map(function(e){var t=s.ko.widget(e);return t?t.VM:null}).filter(function(e){return e})},widget:function(e){return(0,i.default)(e).data("ko-dotnetify")},plugins:{}},(0,i.default)(function(){s.ko.init()}),i.default.widget("ko.dotnetify",{_create:function(){var e=this;e.VMType=e.element.attr("data-vm"),e.VMId=e.VMType;var t=e.element.attr("data-vm-id");null!=t&&(e.VMId+="$"+t),i.default.each(e.element.parents("[data-master-vm]"),function(){e.VMId=(0,i.default)(this).attr("data-master-vm")+"."+e.VMId}),s.offline&&e._ListenToOfflineEvent(),null!=e.VMId?s.isConnected()?e._RequestVM():s.offline&&e._GetOfflineVM():console.error("ERROR: dotnetify - failed to find 'data-vm' attribute in the element where .dotnetify() was applied.")},_destroy:function(){try{var e=this;"function"==typeof e.OfflineFn&&(0,i.default)(document).off("offline",e.OfflineFn),i.default.each(s.plugins,function(t,n){"function"==typeof n.$destroy&&n.$destroy.apply(e.VM)}),null!=e.VM&&e.VM.hasOwnProperty("$destroy")&&e.VM.$destroy()}catch(e){console.error(e.stack)}s.disposeVM(e.VMId)},UpdateVM:function(e){var t=this;try{if(null==t.VM){t.VM=u.mapping.fromJS(JSON.parse(e)),t.VM.$vmId=t.VMId,t.VM.$element=t.element,t.VM.$dotnetify=s.ko,s.offline&&(t.VM.$vmOffline=u.observable(t.IsOffline)),this._AddBuiltInFunctions(),i.default.each(s.ko.plugins,function(e,n){"function"==typeof n.$init&&n.$init.apply(t.VM)}),"function"==typeof t.VM.$init&&t.VM.$init();try{u.applyBindings(t.VM,t.element[0])}catch(e){console.error(e.stack)}t.VM.$serverUpdate=!0,t._OnComponentReady(function(){i.default.each(s.ko.plugins,function(e,n){"function"==typeof n.$ready&&n.$ready.apply(t.VM)}),t._SubscribeObservables(t.VM),"function"==typeof t.VM.$ready&&t.VM.$ready(),t.element.trigger("ready",{VMId:t.VMId,VM:t.VM})}),s.offline&&s.isConnected()&&"function"==typeof s.offlineCacheFn&&s.offlineCacheFn(t.VMId+t.element.attr("data-vm-arg"),e)}else{t.VM.$serverUpdate=!1;var n=JSON.parse(e);t._PreProcess(n);try{u.mapping.fromJS(n,t.VM)}catch(e){console.error(e.stack)}t.VM.$serverUpdate=!0,t._OnComponentReady(function(){t._SubscribeObservables(t.VM)})}}catch(e){console.error(e.stack)}s.debug&&(console.log("["+t.VMId+"] received> "),console.log(JSON.parse(e)),null!=s.debugFn&&s.debugFn(t.VMId,"received",JSON.parse(e)))},_AddBuiltInFunctions:function(){var e=this;e.VM.$preventBinding=function(t){e.VM.$serverUpdate=!1,t.apply(e.VM),e.VM.$serverUpdate=!0},e.VM.$addList=function(e,t){var n=Array.isArray(t)?t:u.mapping.fromJS(t),r=e().$vmKey;if(null!=r){var o=u.utils.arrayFirst(e(),function(e){return e[r]()==n[r]()});if(null!=o)return void e.replace(o,n)}e.push(n)},e.VM.$updateList=function(e,t){var n=u.mapping.fromJS(t),r=e().$vmKey;if(null!=r){if(!n.hasOwnProperty(r))return void console.error("ERROR: object requires property '"+r+"'");var o=u.utils.arrayFirst(e(),function(e){return e[r]()==n[r]()});if(null!=o)return void Object.keys(n).forEach(function(e){u.isObservable(n[e])&&o[e](n[e]())})}e.push(n)},e.VM.$removeList=function(t,n){e.VM.$preventBinding(function(){t.remove(n)})},e.VM.$on=function(e,t){e.subscribe(function(e){t(e)})},e.VM.$once=function(e,t){var n=e.subscribe(function(e){n.dispose(),t(e)})},e.VM.$loadView=function(e,t,n,o,u){"object"===(void 0===n?"undefined":r(n))&&null!=n?(u=o,o=n,n=null):"function"==typeof n?(u=n,n=null):"function"==typeof o&&(u=o,o=null),null!=t&&""!=t?(0,i.default)(e).load(t,null,function(){null==o||i.default.isEmptyObject(o)||(0,i.default)(this).attr("data-vm-arg",JSON.stringify(o)),"function"==typeof u&&u.apply(this),null!=n?i.default.getScript(n,function(){s.ko.init()}):s.ko.init()}):(0,i.default)(e).empty()},e.VM.$inject=function(t,n){u.isObservable(t)&&"push"in t?i.default.each(t(),function(t,r){e._Inject(r,n)}):e._Inject(t,n)};var t=window[e.VMType];if(null!=t)if("function"==typeof t){var n=new t(e.VM);Object.assign(n,t.prototype),e._Inject(e.VM,n)}else e._Inject(e.VM,t);i.default.each(s.ko.plugins,function(t,n){n.hasOwnProperty("$inject")&&n.$inject(e.VM)})},_GetOfflineVM:function(){if("function"==typeof s.offlineCacheFn){var e=s.offlineCacheFn(this.VMId+this.element.attr("data-vm-arg"));null==e&&(e=s.offlineCacheFn(this.VMId)),null!=e&&(s.debug&&console.warn("["+this.VMId+"] using offline data"),this.IsOffline=!0,this.UpdateVM(e))}},_ListenToOfflineEvent:function(){var e=this;e.IsOffline=!1,e.OfflineFn=function(t,n){null!=e.VM&&e.VM.hasOwnProperty("$vmOffline")&&e.VM.$vmOffline(n),e.IsOffline=n,n?null==e.VM&&e._GetOfflineVM():e._RequestVM(),(0,i.default)(document).one("offline",e.OfflineFn.bind(e))},(0,i.default)(document).one("offline",e.OfflineFn.bind(e))},_Inject:function(e,t){Object.keys(t).forEach(function(n){e.hasOwnProperty(n)||("function"==typeof t[n]?0==n.indexOf("_")?e[n]=u.pureComputed(t[n],e):e[n]=t[n]:0==n.indexOf("_")?(e[n]=u.observable(t[n]),e[n].$subscribe=!0):e[n]=t[n])})},_OnComponentReady:function(e){var t=this,n=0;!function r(){var o=!0,u=t.element.find("[params]");u.length>0&&(o=0==i.default.grep(u,function(e){return 0==e.childElementCount}).length),o||n++>3?e():setTimeout(r,250)}()},_OnValueChanged:function(e,t){var n={};if(n[e]=t instanceof Object?i.default.extend({},t):t,s.isConnected())try{s.updateVM(this.VMId,n),s.debug&&(console.log("["+this.VMId+"] sent> "),console.log(n),null!=s.debugFn&&s.debugFn(this.VMId,"sent",n))}catch(e){console.error(e)}},_PreProcess:function(e){var t=this;Object.keys(e).forEach(function(n){var r;if(null!=(r=/(.*)_add/.exec(n))){if(null==(o=t.VM[r[1]]))throw new Error("unable to resolve "+n);return t.VM.$addList(o,e[n]),void delete e[n]}if(null!=(r=/(.*)_update/.exec(n))){if(null==(o=t.VM[r[1]]))throw new Error("unable to resolve "+n);return t.VM.$updateList(o,e[n]),void delete e[n]}if(null!=(r=/(.*)_remove/.exec(n))){var o;if(null==(o=t.VM[r[1]]))throw new Error("unable to resolve "+n);var i=o().$vmKey;if(null==i)throw new Error("unable to resolve "+n+" due to missing vmItemKey attribute");return t.VM.$removeList(t.VM[r[1]],function(t){return t[i]()==e[n]}),void delete e[n]}})},_RequestVM:function(){var e=this.element.attr("data-vm-arg");if(e=null!=e?i.default.parseJSON(e.replace(/'/g,'"')):null,s.isConnected())try{s.requestVM(this.VMId,e)}catch(e){console.error(e)}},_SubscribeObservables:function(e,t){var n=this,o=this;if(null!=e)if(u.isObservable(e))"$subscribe"in e==!1&&(e.subscribe(function(e){!0===o.VM.$serverUpdate&&o._OnValueChanged(t,e)}),e.$subscribe=!0),this._SubscribeObservables(e(),t);else if("object"==(void 0===e?"undefined":r(e))){var i="$vmKey"in e?e.$vmKey:null;Object.keys(e).forEach(function(r){if("$"!=r.charAt(0)&&"_"!=r.charAt(0)&&r.charAt(0)!=r.charAt(0).toLowerCase()&&isNaN(r.charAt(0))){var o=null!=i?"$"+e[r][i]():r;n._SubscribeObservables(e[r],null==t?o:t+"."+o)}})}else e instanceof Array&&Object.keys(e).forEach(function(r){path="$"+r,n._SubscribeObservables(e[r],null==t?path:t+"."+path)})}}),u.bindingHandlers.vmItemKey={preprocess:function(e){return"'"!=e.charAt(0)?"'"+e+"'":e},update:function(e,t,n,r,o){var i=t(),a=n.get("foreach");!u.isObservable(a)&&a.hasOwnProperty("data")&&(a=a.data),u.isObservable(a)&&null!=a()&&null!=i&&(a().$vmKey=i)}},u.bindingHandlers.vmCommand={init:function(e,t,n,r,o){var i=o.$root,a=null,s=null,l=/return\s{(.*):(.*)}\s/.exec(t.toString());if(null!=l)a=l[1].trim(),s=l[2].trim();else{var c=/return\s(.*)\s/.exec(t.toString());null!=c&&(a=c[1].trim())}if(null==a)throw new Error("invalid vmCommand value at "+e.outerHTML);null!=s?"'"==s.charAt(0)?s=s.replace(/(^'|'$)/g,""):u.isObservable(r[s])?s=u.unwrap(r[s]):"$data"==s&&(s=r):s=!0;u.bindingHandlers.click.init(e,function(){return function(){var n=null!=i[a]?i[a]:t();u.isObservable(n)?(i.$preventBinding(function(){n(!0!==s&&null)}),n(s)):n.apply(i,[r,e,o.$parent])}},n,r,o)}},u.bindingHandlers.vmOnce={init:function(e,t,n,r,o){u.bindingHandlers.vmOn.init(e,t,n,r,o,!0)}},u.bindingHandlers.vmOn={init:function(e,t,n,r,o,i){var a=o.$root,s=null,l=null,c=t.toString(),f=/return\s{(.*):(.*)}\s/.exec(c);if(null!=f&&(s=f[1].trim(),l=f[2].trim()),null==l)throw new Error("invalid vmOn function at "+e.outerHTML);var d=function(){return null!=a[l]?a[l]:t()[s]};if(null!=s&&!u.isObservable(r[s]))throw new Error("invalid vmOn data: "+t());d().apply(a,[r,e,o.$parent]),null==i&&r[s].subscribe(function(t){d().apply(a,[r,e,o.$parent])})}},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(2));var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.routes=[],this.vm=t,this.router=n,this.debug=t.$dotnetify.controller.debug}return r(e,[{key:"RoutingState",get:function(){throw new Error("Not implemented")}},{key:"VMRoot",get:function(){throw new Error("Not implemented")}},{key:"VMArg",get:function(){throw new Error("Not implemented")}}]),r(e,[{key:"dispatchActiveRoutingState",value:function(e){this.vm.$dispatch({"RoutingState.Active":e});var t=this.vm.State().RoutingState;t=Object.assign(t||{},{Active:e}),this.vm.State({RoutingState:t})}},{key:"handleRoute",value:function(e){var t=this;e.preventDefault();var n=e.currentTarget.pathname;if(null==n||""==n)throw new Error("The event passed to $handleRoute has no path name.");setTimeout(function(){return t.router.pushState({},"",n)})}},{key:"initRoot",value:function(){if(this.hasRoutingState&&null!==this.RoutingState&&null!==this.RoutingState.Root&&this._absRoot!=this.RoutingState.Root){var e=o.default.trim(this.VMRoot);""!=e&&(e="/"+e);var t=o.default.trim(this.RoutingState.Root);this._absRoot=""!=t?e+"/"+t:e,this.RoutingState.Root=this._absRoot}}},{key:"initRouting",value:function(){var e=this,t=this.vm;if(this.hasRoutingState)if(null!==this.RoutingState){var n=this.RoutingState.Templates;if(null!=n&&0!=n.length){this.router.$init||(this.router.init(),this.router.$init=!0),this.initRoot(),n.forEach(function(t){var n=null!=t.UrlPattern?t.UrlPattern:t.Id;n=""!=n?n:"/";var r=e.toUrl(n);e.debug&&console.log("router> map "+r+" to template id="+t.Id),e.router.mapTo(r,function(r){e.router.urlPath="";var o=n;for(var i in r)o=o.replace(":"+i,r[i]);o=o.replace(/\(\/:([^)]+)\)/g,"").replace(/\(|\)/g,""),e.routeTo(o,t)})});var r=this.toUrl(this.RoutingState.Active);""==this.router.urlPath&&(this.router.urlPath=r),this.routeUrl()||this.raiseRoutedEvent(!0)}}else console.error("router> the RoutingState prop of '"+t.$vmId+"' was not initialized.")}},{key:"isActive",value:function(e){return!(null==e||!e.hasOwnProperty("Path"))&&o.default.equal(e.Path,this.RoutingState.Active)}},{key:"loadView",value:function(e,t,n,r,o){throw new Error("Not implemented")}},{key:"manualRouteTo",value:function(e,t,n,r){this.vm;var o={Id:"manual",Target:t,ViewUrl:n,JSModuleUrl:r};this.routeTo(e,o,!0)}},{key:"onRouteEnter",value:function(e,t){return!0}},{key:"raiseRoutedEvent",value:function(e){this.vm;""!=this.router.urlPath&&1!=e||(this.debug&&console.log("router> routed"),o.default.dispatchEvent("dotnetify.routed"))}},{key:"route",value:function(e,t){if(null!=e){if(!e.hasOwnProperty("Path")||!e.hasOwnProperty("TemplateId"))throw new Error("Not a valid route");this.initRoot();var n=e.Path,r=null;if(this.hasRoutingState&&null!=this.RoutingState.Templates){var o=this.RoutingState.Templates.filter(function(t){return t.Id==e.TemplateId});if(o.length>0)r=o[0],"string"==typeof t&&(r.Target=t),null==n&&(n=null!=r.UrlPattern?r.UrlPattern:r.Id,e.Path=n);else if(null==e.RedirectRoot)throw new Error("vmRoute cannot find route template '"+e.TemplateId)}if(null!=e.RedirectRoot){var i=e.RedirectRoot;"/"==i.charAt(0)&&(i=i.substr(0,i.length-1));var u=e.RedirectRoot.split("/"),a="",s=this.VMRoot;if(null!=s)for(var l=s.split("/"),c=0;c<l.length&&(""==l[c]||l[c]!=u[0]);c++)a+=l[c]+"/";return a+=i+"/"+n,this.routes.push({Path:n,Url:a}),a}if(null==r)throw new Error("vmRoute cannot find any route template");e.$template=r,this.pathToRoute=this.pathToRoute||{},this.pathToRoute[n]=e;var f=this.toUrl(n);return f=f.length>0?f:"/",this.routes.push({Path:n,Url:f}),f}}},{key:"routeTo",value:function(e,t,n,r,i){var u=this,a=this.vm,s=a.$dotnetify.getViewModels();this.debug&&console.log("router> route '"+e+"' to template id="+t.Id);for(var l=0;l<s.length;l++){var c=s[l].$router.VMArg;if(null!=c&&"string"==typeof c["RoutingState.Origin"]&&o.default.equal(c["RoutingState.Origin"],e))return}if(1==n||!a.hasOwnProperty("onRouteEnter")||0!=this.onRouteEnter(e,t)&&0!=a.onRouteEnter(e,t)){if(null!==t.Target)return null==document.getElementById(t.Target)?!0===i?void(this.debug&&console.log("router> target '"+t.Target+"' not found in DOM")):(this.debug&&console.log("router> target '"+t.Target+"' not found in DOM, use redirect instead"),this.router.redirect(this.toUrl(e),s)):void this.loadView("#"+t.Target,t.ViewUrl,t.JSModuleUrl,{"RoutingState.Origin":e},function(){u.dispatchActiveRoutingState(e),1!=n&&a.hasOwnProperty("onRouteExit")&&a.onRouteExit(e,t),"function"==typeof r&&r.call(a)});console.error("router> the Target for template '"+t.Id+"' was not set.  Use vm.onRouteEnter() to set the target.")}}},{key:"routeToRoute",value:function(e){var t=this,n=this.vm.$route(e);if(null==n||""==n)throw new Error("The route passed to $routeTo is invalid.");setTimeout(function(){return t.router.pushState({},"",n)})}},{key:"routeUrl",value:function(e){var t=this;if(!this.hasRoutingState)return!1;var n=this.RoutingState.Root;if(null==n)return!1;var r=this.router.urlPath;if(this.debug&&console.log("router> routing "+r),o.default.equal(r,n)||o.default.equal(r,n+"/")||"/"===r)return(i=o.default.grep(this.RoutingState.Templates,function(e){return""===e.UrlPattern})).length>0&&(this.routeTo("",i[0],null,null,e),this.router.urlPath="",this.raiseRoutedEvent(),!0);if(n+="/",o.default.startsWith(r,n)){var i,u=null;if((i=o.default.grep(this.routes,function(e){return o.default.startsWith(r+"/",e.Url+"/")})).length>0)for(var a=0;a<i.length;a++)(null==u||u.Url.length<i[a].Url.length)&&(u=i[a]);if(null!=u){var s=u.Path,l=this.hasOwnProperty("pathToRoute")&&this.pathToRoute.hasOwnProperty(s)?this.pathToRoute[s].$template:null;if(null!=l)return o.default.equal(this.router.urlPath,this.toUrl(s))&&(this.router.urlPath=""),o.default.equal(this.RoutingState.Active,s)?this.raiseRoutedEvent():this.routeTo(s,l,!1,function(){return t.raiseRoutedEvent()},e),!0}else if(this.router.match(r))return this.router.urlPath="",this.raiseRoutedEvent(),!0}return!1}},{key:"toUrl",value:function(e){var t=o.default.trim(e);return"("!=t.charAt(0)&&""!=t&&(t="/"+t),this.hasRoutingState?this.RoutingState.Root+t:e}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(5)),i=a(n(1)),u=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(t){s(this,e),this.template=t}return r(e,[{key:"Id",get:function(){return this.template.Id()}},{key:"Root",get:function(){return this.template.Root()}},{key:"UrlPattern",get:function(){return this.template.UrlPattern()}},{key:"ViewUrl",get:function(){return this.template.ViewUrl()},set:function(e){this.template.ViewUrl(e)}},{key:"JSModuleUrl",get:function(){return this.template.JSModuleUrl()},set:function(e){this.template.JSModuleUrl(e)}},{key:"Target",get:function(){return this.template.Target()},set:function(e){this.template.Target(e)}}]),e}(),c=function(){function e(t){s(this,e),this.routingState=t}return r(e,[{key:"Root",get:function(){return this.routingState.Root()},set:function(e){this.routingState.Root(e)}},{key:"Templates",get:function(){var e="function"==typeof this.routingState.Templates?this.routingState.Templates():null;return e?e.map(function(e){return new l(e)}):null}},{key:"Active",get:function(){return this.routingState.Active()},set:function(e){this.routingState.Active(e)}},{key:"Origin",get:function(){return this.routingState.Origin()},set:function(e){this.routingState.Origin(e)}}]),e}(),f=function(e){function t(e,n){return s(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"hasRoutingState",get:function(){return this.vm.hasOwnProperty("RoutingState")}},{key:"RoutingState",get:function(){return new c(this.vm.RoutingState)}},{key:"VMRoot",get:function(){return this.vm.$element.attr("data-vm-root")}},{key:"VMArg",get:function(){return this.vm.$element.attr("data-vm-arg")}}]),r(t,[{key:"dispatchActiveRoutingState",value:function(e){this.RoutingState.Active=e}},{key:"onRouteEnter",value:function(e,t){return t.ViewUrl||(t.ViewUrl=t.Id+".html"),!0}},{key:"loadView",value:function(e,t,n,r,o){var a=this,s=this.vm;if(null!=t&&""!=t){t=this.router.overrideUrl(t),s.$loadView(e,t,n,r,function(){a.hasRoutingState&&a.RoutingState.Root&&(0,i.default)(e).find("[data-vm]").toArray().forEach(function(e){var t=(0,i.default)(e).attr("data-vm-root");if(t=null!=t?"/"+u.default.trim(s.RoutingState.Root())+"/"+u.default.trim(t):s.RoutingState.Root(),(0,i.default)(e).attr("data-vm-root",t),null!=r&&!i.default.isEmptyObject(r)){var n=(0,i.default)(e).attr("data-vm-arg");n=null!=n?i.default.extend(r,i.default.parseJSON(n.replace(/'/g,'"'))):r,(0,i.default)(e).attr("data-vm-arg",JSON.stringify(n))}});"function"==typeof o&&o.apply(a)})}else(0,i.default)(e).empty()}},{key:"manualRouteTo",value:function(e,t,n,r){var o={Target:function(){return t},ViewUrl:function(){return n},JSModuleUrl:function(){return r}};this.$router.routeTo(e,o,!0)}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={version:"0.8.5",map:function(e){return r.routes.defined.hasOwnProperty(e)?r.routes.defined[e]:new r.core.route(e)},root:function(e){r.routes.root=e},rescue:function(e){r.routes.rescue=e},history:{initial:{},pushState:function(e,t,n){r.history.supported?r.dispatch(n)&&history.pushState(e,t,n):r.history.fallback&&(window.location.hash="#"+n)},popState:function(e){var t=!r.history.initial.popped&&location.href==r.history.initial.URL;r.history.initial.popped=!0,t||r.dispatch("/"===document.location.pathname?"":document.location.pathname)},listen:function(e){if(r.history.supported=!(!window.history||!window.history.pushState),r.history.fallback=e,r.history.supported)r.history.initial.popped="state"in window.history,r.history.initial.URL=location.href,window.onpopstate=r.history.popState;else if(r.history.fallback){for(route in r.routes.defined)"#"!=route.charAt(0)&&(r.routes.defined["#"+route]=r.routes.defined[route],r.routes.defined["#"+route].path="#"+route);r.listen()}}},match:function(e,t){var n,o,i,u,a,s,l={},c=null;for(c in r.routes.defined)if(null!==c&&void 0!==c)for(n=(c=r.routes.defined[c]).partition(),u=0;u<n.length;u++){if(a=e,(o=n[u]).search(/:/)>0)for(i=0;i<o.split("/").length;i++)i<a.split("/").length&&":"===o.split("/")[i].charAt(0)&&(l[o.split("/")[i].replace(/:/,"")]=a.split("/")[i],(s=a.split("/"))[i]=o.split("/")[i],a=s.join("/"));if(o===a)return t&&(c.params=l),c}return null},dispatch:function(e){var t,n;if(r.routes.current!==e){if(r.routes.previous=r.routes.current,r.routes.current=e,n=r.match(e,!0),r.routes.previous&&null!==(t=r.match(r.routes.previous))&&null!==t.do_exit&&t.do_exit(),null!==n)return n.run(),!0;null!==r.routes.rescue&&r.routes.rescue()}},listen:function(){var e=function(){r.dispatch(location.hash)};""===location.hash&&null!==r.routes.root&&(location.hash=r.routes.root),"onhashchange"in window&&(!document.documentMode||document.documentMode>=8)?window.onhashchange=e:setInterval(e,50),""!==location.hash&&r.dispatch(location.hash)},core:{route:function(e){this.path=e,this.action=null,this.do_enter=[],this.do_exit=null,this.params={},r.routes.defined[e]=this}},routes:{current:null,root:null,rescue:null,previous:null,defined:{}}};r.core.route.prototype={to:function(e){return this.action=e,this},enter:function(e){return e instanceof Array?this.do_enter=this.do_enter.concat(e):this.do_enter.push(e),this},exit:function(e){return this.do_exit=e,this},partition:function(){for(var e,t,n=[],r=[],o=/\(([^}]+?)\)/g;e=o.exec(this.path);)n.push(e[1]);for(r.push(this.path.split("(")[0]),t=0;t<n.length;t++)r.push(r[r.length-1]+n[t]);return r},run:function(){var e,t=!1;if(r.routes.defined[this.path].hasOwnProperty("do_enter")&&r.routes.defined[this.path].do_enter.length>0)for(e=0;e<r.routes.defined[this.path].do_enter.length;e++)if(!1===r.routes.defined[this.path].do_enter[e].apply(this,null)){t=!0;break}t||r.routes.defined[this.path].action()}},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(7));var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.version="2.0.1",this.urlPath=document.location.pathname,this.debug=t}return r(e,[{key:"init",value:function(){if(void 0===o.default)throw new Error("Pathjs library is required for routing.");o.default.history.listen(!0),o.default.routes.rescue=function(){}}},{key:"mapTo",value:function(e,t){e=e.length>0?e:"/",void 0!==o.default&&o.default.map(e).to(function(){t(this.params)})}},{key:"match",value:function(e){if(void 0!==o.default){var t=o.default.match(e,!0);if(null!=t)return t.run(),!0}return!1}},{key:"overrideUrl",value:function(e){return e}},{key:"pushState",value:function(e,t,n){this.urlPath="",void 0!==o.default&&o.default.history.pushState(e,t,n)}},{key:"redirect",value:function(e,t){this.urlPath=e;for(var n=0;n<t.length;n++){if(t[n].$router.routeUrl(!0))return void(this.debug&&console.log("router> redirected"))}window.location.replace(e)}},{key:"$ready",value:function(){this.$router.initRouting()}}]),e}();t.default=i},function(e,t,n){"use strict";var r=l(n(4)),o=l(n(8)),u=l(n(6)),a=l(n(1)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));function l(e){return e&&e.__esModule?e:{default:e}}r.default.ko.router=new o.default(r.default.debug),r.default.ko.router.$inject=function(e){var t=new u.default(e,r.default.ko.router);e.$router=t},s.bindingHandlers.vmRoute={update:function(e,t,n,o,u){var l=u.$root,c=s.unwrap(t());if(!c.hasOwnProperty("Path")||!c.hasOwnProperty("TemplateId"))throw new Error("invalid vmRoute data at "+e.outerHTML);l.$router.initRoot();var f=c.Path(),d=null;if(l.hasOwnProperty("RoutingState")&&"function"==typeof l.RoutingState.Templates&&null!=l.RoutingState.Templates()){var p=a.default.grep(l.RoutingState.Templates(),function(e){return e.Id()==c.TemplateId()});if(p.length>0)d=p[0],null==f&&(f=d.UrlPattern(),c.Path(f));else if(null==c.RedirectRoot())throw new Error("vmRoute cannot find route template '"+c.TemplateId()+"' at "+e.outerHTML)}if(null!=c.RedirectRoot()){var h=c.RedirectRoot();"/"==h.charAt(0)&&(h=h.substr(0,h.length-1));var v=c.RedirectRoot().split("/"),y="",g=l.$element.attr("data-vm-root");if(null!=g){var b=g.split("/");for(i=0;i<b.length&&(""==b[i]||b[i]!=v[0]);i++)y+=b[i]+"/"}return y+=h+"/"+f,void(0,a.default)(e).attr("href",y).attr("data-vm-route",f).click(function(e){e.preventDefault(),r.default.ko.router.pushState({},"",(0,a.default)(this).attr("href"))})}if(null==d)throw new Error("vmRoute cannot find any route template at "+e.outerHTML);c.$template=d,l.$router.pathToRoute=l.$router.pathToRoute||{},l.$router.pathToRoute[f]=c,(0,a.default)(e).attr("href",l.$router.toUrl(f)).attr("data-vm-route",f).click(function(e){e.preventDefault(),r.default.ko.router.pushState({},"",(0,a.default)(this).attr("href"))})}},r.default.ko.plugins.router=r.default.ko.router},function(e,t,n){"use strict";(function(e){var r,o,i,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a){"object"===u(t)&&"object"===u(e)?a(n(0),t):(o=[n(0),t],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i))}(function(e,t){function n(e,r){var o,i;for(i in r)if(r.hasOwnProperty(i)&&r[i])if(o=t.getType(e[i]),i&&e[i]&&"array"!==o&&"string"!==o)n(e[i],r[i]);else if("array"===t.getType(e[i])&&"array"===t.getType(r[i])){o=e;for(var u=i,a=e[i],s=r[i],l={},c=a.length-1;0<=c;--c)l[a[c]]=a[c];for(c=s.length-1;0<=c;--c)l[s[c]]=s[c];for(s in a=[],s=void 0,l)a.push(l[s]);o[u]=a}else e[i]=r[i]}function r(e,t){var r={};return n(r,e),n(r,t),r}function o(e,t){for(var n=r({},e),o=w.length-1;0<=o;o--){var u=w[o];n[u]&&(n[""]instanceof Object||(n[""]={}),n[""][u]=n[u],delete n[u])}return t&&(n.ignore=i(t.ignore,n.ignore),n.include=i(t.include,n.include),n.copy=i(t.copy,n.copy),n.observe=i(t.observe,n.observe)),n.ignore=i(n.ignore,S.ignore),n.include=i(n.include,S.include),n.copy=i(n.copy,S.copy),n.observe=i(n.observe,S.observe),n.mappedProperties=n.mappedProperties||{},n.copiedProperties=n.copiedProperties||{},n}function i(n,r){return"array"!==t.getType(n)&&(n="undefined"===t.getType(n)?[]:[n]),"array"!==t.getType(r)&&(r="undefined"===t.getType(r)?[]:[r]),e.utils.arrayGetDistinctValues(n.concat(r))}function a(n,o,i,l,h,m,w){var O="array"===t.getType(e.utils.unwrapObservable(o));if(m=m||"",t.isMapped(n)){var S=e.utils.unwrapObservable(n)[g];i=r(S,i)}var M=w||h,R=function(){return i[l]&&i[l].create instanceof Function},k=function(t){var n=v,r=e.dependentObservable;return e.dependentObservable=function(t,r,o){o=o||{},t&&"object"==(void 0===t?"undefined":u(t))&&(o=t);var i=o.deferEvaluation,a=!1;if(o.deferEvaluation=!0,t=new b(t,r,o),!i){var s=t;i=e.dependentObservable;e.dependentObservable=b,t=e.isWriteableObservable(s),e.dependentObservable=i,t=b({read:function(){return a||(e.utils.arrayRemoveItem(n,s),a=!0),s.apply(s,arguments)},write:t&&function(e){return s(e)},deferEvaluation:!0}),n.push(t)}return t},e.dependentObservable.fn=b.fn,e.computed=e.dependentObservable,t=e.utils.unwrapObservable(h)instanceof Array?i[l].create({data:t||o,parent:M,skip:_}):i[l].create({data:t||o,parent:M}),e.dependentObservable=r,e.computed=e.dependentObservable,t},V=function(){return i[l]&&i[l].update instanceof Function},E=function(t,n){var r={data:n||o,parent:M,target:e.utils.unwrapObservable(t)};return e.isWriteableObservable(t)&&(r.observable=t),i[l].update(r)};if(w=y.get(o))return w;if(l=l||"",O){O=[];var P=!1,T=function(e){return e};i[l]&&i[l].key&&(T=i[l].key,P=!0),e.isObservable(n)||((n=e.observableArray([])).mappedRemove=function(e){var t="function"==typeof e?e:function(t){return t===T(e)};return n.remove(function(e){return t(T(e))})},n.mappedRemoveAll=function(t){var r=f(t,T);return n.remove(function(t){return-1!=e.utils.arrayIndexOf(r,T(t))})},n.mappedDestroy=function(e){var t="function"==typeof e?e:function(t){return t===T(e)};return n.destroy(function(e){return t(T(e))})},n.mappedDestroyAll=function(t){var r=f(t,T);return n.destroy(function(t){return-1!=e.utils.arrayIndexOf(r,T(t))})},n.mappedIndexOf=function(t){var r=f(n(),T);return t=T(t),e.utils.arrayIndexOf(r,t)},n.mappedCreate=function(t){if(-1!==n.mappedIndexOf(t))throw Error("There already is an object with the key that you specified.");var r=R()?k(t):t;return V()&&(t=E(r,t),e.isWriteableObservable(r)?r(t):r=t),n.push(r),r}),w=f(e.utils.unwrapObservable(n),T).sort(),S=f(o,T),P&&S.sort(),P=e.utils.compareArrays(w,S),w={};var j,C={},x=!0;S=0;for(j=($=e.utils.unwrapObservable(o)).length;S<j;S++){if(void 0===(H=T($[S]))||H instanceof Object){x=!1;break}C[H]=$[S]}var $=[],A=0;S=0;for(j=P.length;S<j;S++){var I,H=P[S],N=m+"["+S+"]";switch(H.status){case"added":var U=x?C[H.value]:c(e.utils.unwrapObservable(o),H.value,T);I=a(void 0,U,i,l,n,N,h),R()||(I=e.utils.unwrapObservable(I)),N=s(e.utils.unwrapObservable(o),U,w),I===_?A++:$[N-A]=I,w[N]=!0;break;case"retained":U=x?C[H.value]:c(e.utils.unwrapObservable(o),H.value,T),a(I=c(n,H.value,T),U,i,l,n,N,h),$[N=s(e.utils.unwrapObservable(o),U,w)]=I,w[N]=!0;break;case"deleted":I=c(n,H.value,T)}O.push({event:H.status,item:I})}n($),i[l]&&i[l].arrayChanged&&e.utils.arrayForEach(O,function(e){i[l].arrayChanged(e.event,e.item)})}else if(p(o)){if(!(n=e.utils.unwrapObservable(n))){if(R())return P=k(),V()&&(P=E(P)),P;if(V())return E(P);n={}}if(V()&&(n=E(n)),y.save(o,n),V())return n;d(o,function(t){var r=m.length?m+"."+t:t;if(-1==e.utils.arrayIndexOf(i.ignore,r))if(-1!=e.utils.arrayIndexOf(i.copy,r))n[t]=o[t];else if("object"!=u(o[t])&&"array"!=typeof o[t]&&0<i.observe.length&&-1==e.utils.arrayIndexOf(i.observe,r))n[t]=o[t],i.copiedProperties[r]=!0;else{var s=y.get(o[t]),l=a(n[t],o[t],i,t,n,r,n);s=s||l;0<i.observe.length&&-1==e.utils.arrayIndexOf(i.observe,r)?(n[t]=s(),i.copiedProperties[r]=!0):(e.isWriteableObservable(n[t])?n[t](e.utils.unwrapObservable(s)):(s=void 0===n[t]?s:e.utils.unwrapObservable(s),n[t]=s),i.mappedProperties[r]=!0)}})}else switch(t.getType(o)){case"function":V()?e.isWriteableObservable(o)?(o(E(o)),n=o):n=E(o):n=o;break;default:if(e.isWriteableObservable(n))return I=V()?E(n):e.utils.unwrapObservable(o),n(I),I;R()||V(),n=R()?k():e.observable(e.utils.unwrapObservable(o)),V()&&n(E(n))}return n}function s(e,t,n){for(var r=0,o=e.length;r<o;r++)if(!0!==n[r]&&e[r]===t)return r;return null}function l(n,r){var o;return r&&(o=r(n)),"undefined"===t.getType(o)&&(o=n),e.utils.unwrapObservable(o)}function c(t,n,r){for(var o=0,i=(t=e.utils.unwrapObservable(t)).length;o<i;o++){var u=t[o];if(l(u,r)===n)return u}throw Error("When calling ko.update*, the key '"+n+"' was not found!")}function f(t,n){return e.utils.arrayMap(e.utils.unwrapObservable(t),function(e){return n?l(e,n):e})}function d(e,n){if("array"===t.getType(e))for(var r=0;r<e.length;r++)n(r);else for(r in e)n(r)}function p(e){var n=t.getType(e);return("object"===n||"array"===n)&&null!==e}function h(){var t={},n=function(n){var r;try{r=n}catch(e){r="$$$"}return void 0===(n=t[r])&&(n=new function(){var t=[],n=[];this.save=function(r,o){var i=e.utils.arrayIndexOf(t,r);0<=i?n[i]=o:(t.push(r),n.push(o))},this.get=function(r){return 0<=(r=e.utils.arrayIndexOf(t,r))?n[r]:void 0}},t[r]=n),n};this.save=function(e,t){n(e).save(e,t)},this.get=function(e){return n(e).get(e)}}var v,y,g="__ko_mapping__",b=e.dependentObservable,m=0,w=["create","update","key","arrayChanged"],_={},O={include:["_destroy"],ignore:[],copy:[],observe:[]},S=O;t.isMapped=function(t){return(t=e.utils.unwrapObservable(t))&&t[g]},t.fromJS=function(e){if(0==arguments.length)throw Error("When calling ko.fromJS, pass the object you want to convert.");try{var t,n;m++||(v=[],y=new h),2==arguments.length&&(arguments[1][g]?n=arguments[1]:t=arguments[1]),3==arguments.length&&(t=arguments[1],n=arguments[2]),n&&(t=r(t,n[g]));var i=a(n,e,t=o(t));if(n&&(i=n),!--m)for(;v.length;){var u=v.pop();u&&u()}return i[g]=r(i[g],t),i}catch(e){throw m=0,e}},t.fromJSON=function(n){var r=e.utils.parseJson(n);return arguments[0]=r,t.fromJS.apply(this,arguments)},t.updateFromJS=function(){throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},t.updateFromJSON=function(){throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},t.toJS=function(n,r){if(S||t.resetDefaultOptions(),0==arguments.length)throw Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==t.getType(S.ignore))throw Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==t.getType(S.include))throw Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==t.getType(S.copy))throw Error("ko.mapping.defaultOptions().copy should be an array.");return r=o(r,n[g]),t.visitModel(n,function(t){return e.utils.unwrapObservable(t)},r)},t.toJSON=function(n,r){var o=t.toJS(n,r);return e.utils.stringifyJson(o)},t.defaultOptions=function(){if(!(0<arguments.length))return S;S=arguments[0]},t.resetDefaultOptions=function(){S={include:O.include.slice(0),ignore:O.ignore.slice(0),copy:O.copy.slice(0)}},t.getType=function(e){if(e&&"object"===(void 0===e?"undefined":u(e))){if(e.constructor===Date)return"date";if(e.constructor===Array)return"array"}return void 0===e?"undefined":u(e)},t.visitModel=function(n,r,i){(i=i||{}).visitedObjects=i.visitedObjects||new h;var u,a=e.utils.unwrapObservable(n);if(!p(a))return r(n,i.parentName);i=o(i,a[g]),r(n,i.parentName),u="array"===t.getType(a)?[]:{},i.visitedObjects.save(n,u);var s=i.parentName;return d(a,function(n){if(!i.ignore||-1==e.utils.arrayIndexOf(i.ignore,n)){var o=a[n],l=i,c=s||"";if("array"===t.getType(a)?s&&(c+="["+n+"]"):(s&&(c+="."),c+=n),l.parentName=c,-1!==e.utils.arrayIndexOf(i.copy,n)||-1!==e.utils.arrayIndexOf(i.include,n)||!a[g]||!a[g].mappedProperties||a[g].mappedProperties[n]||!a[g].copiedProperties||a[g].copiedProperties[n]||"array"===t.getType(a))switch(t.getType(e.utils.unwrapObservable(o))){case"object":case"array":case"undefined":l=i.visitedObjects.get(o),u[n]="undefined"!==t.getType(l)?l:t.visitModel(o,r,i);break;default:u[n]=r(o,i.parentName)}}}),u}})}).call(this,n(3)(e))},function(e,t,n){"use strict";var r,o,i;
/*! jQuery UI - v1.11.4 - 2015-10-01
* http://jqueryui.com
* Includes: widget.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */o=[n(1)],void 0===(i="function"==typeof(r=function(e){var t=0,n=Array.prototype.slice;e.cleanData=function(t){return function(n){var r,o,i;for(i=0;null!=(o=n[i]);i++)try{(r=e._data(o,"events"))&&r.remove&&e(o).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,r){var o,i,u,a,s={},l=t.split(".")[0];return t=t.split(".")[1],o=l+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[l]=e[l]||{},i=e[l][t],u=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new u(e,t)},e.extend(u,i,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),(a=new n).options=e.widget.extend({},a.options),e.each(r,function(t,r){return e.isFunction(r)?void(s[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},o=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,i=this._superApply;return this._super=e,this._superApply=o,t=r.apply(this,arguments),this._super=n,this._superApply=i,t}}()):void(s[t]=r)}),u.prototype=e.widget.extend(a,{widgetEventPrefix:i&&a.widgetEventPrefix||t},s,{constructor:u,namespace:l,widgetName:t,widgetFullName:o}),i?(e.each(i._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,u,n._proto)}),delete i._childConstructors):n._childConstructors.push(u),e.widget.bridge(t,u),u},e.widget.extend=function(t){for(var r,o,i=n.call(arguments,1),u=0,a=i.length;a>u;u++)for(r in i[u])o=i[u][r],i[u].hasOwnProperty(r)&&void 0!==o&&(t[r]=e.isPlainObject(o)?e.isPlainObject(t[r])?e.widget.extend({},t[r],o):e.widget.extend({},o):o);return t},e.widget.bridge=function(t,r){var o=r.prototype.widgetFullName||t;e.fn[t]=function(i){var u="string"==typeof i,a=n.call(arguments,1),s=this;return u?this.each(function(){var n,r=e.data(this,o);return"instance"===i?(s=r,!1):r?e.isFunction(r[i])&&"_"!==i.charAt(0)?(n=r[i].apply(r,a))!==r&&void 0!==n?(s=n&&n.jquery?s.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+i+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+i+"'")}):(a.length&&(i=e.widget.extend.apply(null,[i].concat(a))),this.each(function(){var t=e.data(this,o);t?(t.option(i||{}),t._init&&t._init()):e.data(this,o,new r(i,this))})),s}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,o,i,u=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(u={},r=t.split("."),t=r.shift(),r.length){for(o=u[t]=e.widget.extend({},this.options[t]),i=0;r.length-1>i;i++)o[r[i]]=o[r[i]]||{},o=o[r[i]];if(t=r.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];u[t]=n}return this._setOptions(u),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var o,i=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=o=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,o=this.widget()),e.each(r,function(r,u){function a(){return t||!0!==i.options.disabled&&!e(this).hasClass("ui-state-disabled")?("string"==typeof u?i[u]:u).apply(i,arguments):void 0}"string"!=typeof u&&(a.guid=u.guid=u.guid||a.guid||e.guid++);var s=r.match(/^([\w:-]*)\s*(.*)$/),l=s[1]+i.eventNamespace,c=s[2];c?o.delegate(c,l,a):n.bind(l,a)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var o,i,u=this.options[t];if(r=r||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],i=n.originalEvent)for(o in i)o in n||(n[o]=i[o]);return this.element.trigger(n,r),!(e.isFunction(u)&&!1===u.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,o,i){"string"==typeof o&&(o={effect:o});var u,a=o?!0===o||"number"==typeof o?n:o.effect||n:t;"number"==typeof(o=o||{})&&(o={duration:o}),u=!e.isEmptyObject(o),o.complete=i,o.delay&&r.delay(o.delay),u&&e.effects&&e.effects.effect[a]?r[t](o):a!==t&&r[a]?r[a](o.duration,o.easing,i):r.queue(function(n){e(this)[t](),i&&i.call(r[0]),n()})}}),e.widget})?r.apply(t,o):r)||(e.exports=i)},function(e,t){e.exports=n},function(e,t){var n=e.exports={type:function(e){return null==e?String(e):o[r.call(e)]||"object"},isArray:function(e){return"array"===n.type(e)},isFunction:i,isPlainObject:function(e){if(!e||"object"!==n.type(e))return!1;return!0},each:function(e,t,n){var r,o=0,u=e.length,a=void 0===u||i(e);if(n)if(a){for(r in e)if(!1===t.apply(e[r],n))break}else for(;o<u&&!1!==t.apply(e[o++],n););else if(a){for(r in e)if(!1===t.call(e[r],r,e[r]))break}else for(;o<u&&!1!==t.call(e[o],o,e[o++]););return e},extend:function(){var e,t,r,o,i,u,a=arguments[0]||{},s=1,l=arguments.length,c=!1;"boolean"==typeof a&&(c=a,a=arguments[1]||{},s=2);"object"==typeof a||n.isFunction(a)||(a={});l===s&&(a=this,--s);for(;s<l;s++)if(null!=(e=arguments[s]))for(t in e)r=a[t],o=e[t],a!==o&&(c&&o&&(n.isPlainObject(o)||(i=n.isArray(o)))?(i?(i=!1,u=r&&n.isArray(r)?r:[]):u=r&&n.isPlainObject(r)?r:{},a[t]=n.extend(c,u,o)):void 0!==o&&(a[t]=o));return a},noop:function(){}},r=Object.prototype.toString,o={};function i(e){return"function"===n.type(e)}"Boolean Number String Function Array Date RegExp Object".split(" ").forEach(function(e){o["[object "+e+"]"]=e.toLowerCase()})},function(e,t,n){var r=e.exports=n(13),o=/\s+/,i={};r.Callbacks=function(e){var t,n,u,a,s,l,c=[],f=!(e="string"==typeof e?i[e]||function(e){var t=i[e]={};return r.each(e.split(o),function(e,n){t[n]=!0}),t}(e):r.extend({},e)).once&&[],d=function(r){for(t=e.memory&&r,n=!0,l=a||0,a=0,s=c.length,u=!0;c&&l<s;l++)if(!1===c[l].apply(r[0],r[1])&&e.stopOnFalse){t=!1;break}u=!1,c&&(f?f.length&&d(f.shift()):t?c=[]:p.disable())},p={add:function(){if(c){var n=c.length;!function t(n){r.each(n,function(n,o){var i=r.type(o);"function"===i?e.unique&&p.has(o)||c.push(o):o&&o.length&&"string"!==i&&t(o)})}(arguments),u?s=c.length:t&&(a=n,d(t))}return this},remove:function(){return c&&r.each(arguments,function(e,t){for(var n;(n=r.inArray(t,c,n))>-1;)c.splice(n,1),u&&(n<=s&&s--,n<=l&&l--)}),this},has:function(e){return r.inArray(e,c)>-1},empty:function(){return c=[],this},disable:function(){return c=f=t=void 0,this},disabled:function(){return!c},lock:function(){return f=void 0,t||p.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=[e,(t=t||[]).slice?t.slice():t],!c||n&&!f||(u?f.push(t):d(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!n}};return p}},function(e,t,n){
/*!
* jquery-deferred
* Copyright(c) 2011 Hidden <zzdhidden@gmail.com>
* MIT Licensed
*/
var r=e.exports=n(14),o=Array.prototype.slice;r.extend({Deferred:function(e){var t=[["resolve","done",r.Callbacks("once memory"),"resolved"],["reject","fail",r.Callbacks("once memory"),"rejected"],["notify","progress",r.Callbacks("memory")]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return r.Deferred(function(n){r.each(t,function(t,o){var u=o[0],a=e[t];i[o[1]](r.isFunction(a)?function(){var e=a.apply(this,arguments);e&&r.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[u+"With"](this===i?n:this,[e])}:n[u])}),e=null}).promise()},promise:function(e){return null!=e?r.extend(e,o):o}},i={};return o.pipe=o.then,r.each(t,function(e,r){var u=r[2],a=r[3];o[r[1]]=u.add,a&&u.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[r[0]]=u.fire,i[r[0]+"With"]=u.fireWith}),o.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,i,u=0,a=o.call(arguments),s=a.length,l=1!==s||e&&r.isFunction(e.promise)?s:0,c=1===l?e:r.Deferred(),f=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?o.call(arguments):i,r===t?c.notifyWith(n,r):--l||c.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);u<s;u++)a[u]&&r.isFunction(a[u].promise)?a[u].promise().done(f(u,i,a)).fail(c.reject).progress(f(u,n,t)):--l;return l||c.resolveWith(i,a),c.promise()}})},function(e,t,n){e.exports=n(15)},function(e,t,n){"use strict";(function(e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(16),i=o.extend(function(e){return e===window||e.document?{0:e,on:function(e,t){window.addEventListener(e,t)},bind:function(e,t){window.addEventListener(e,t,!1)},unbind:function(e,t){window.removeEventListener(e,t,!1)}}:("string"!=typeof e&&(e.events=e.events||{}),{0:e,bind:function(t,n){var r=e.events[t]||[];r.push(n),e.events[t]=r},unbind:function(t,n){var r=e.events[t]||[];if(n){var o=r.indexOf(n);-1!==o&&r.splice(o,1)}else r=[];e.events[t]=r},triggerHandler:function(t,n){var r=e.events[t]||[],o=[{type:t}];Array.isArray(n)?n.forEach(function(e){o.push(e)}):n&&o.push(n),r.forEach(function(e){e.apply(this,o)})},load:function(t,n,r){var o=new window.XMLHttpRequest;return o.open("GET",t,!0),o.onload=function(){if(o.status>=200&&o.status<400){var t=o.responseText;document.querySelector(e).innerHTML=t,r.call(document.querySelector(e))}},o.send(),{abort:function(e){return o.abort(e)}}}})},o,{support:{cors:!0},trim:function(e){return"string"==typeof e?e.trim():e},inArray:function(e,t){return-1!==e.indexOf(t)},makeArray:function(e){return[].slice.call(e,0)},merge:function(e,t){return Array.prototype.push.apply(e,t),e},isEmptyObject:function(e){return!e||0===Object.keys(e).length},ajax:function(e){var t=new window.XMLHttpRequest;return t.onreadystatechange=function(){if(4===t.readyState)if(200!==t.status||t._hasError)e.error&&e.error(t);else try{e.success&&e.success(JSON.parse(t.responseText))}catch(n){e.success&&e.success(t.responseText)}},t.open(e.type,e.url),t.setRequestHeader("content-type",e.contentType),t.send(e.data.data&&"data="+e.data.data),{abort:function(e){return t.abort(e)}}},getScript:function(e,t){var n=!1,r=o.Deferred(),i=document.getElementsByTagName("head")[0],u=document.createElement("script");return u.src=e,u.onload=u.onreadystatechange=function(){n||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(n=!0,u.onload=u.onreadystatechange=null,i.removeChild(u),"function"==typeof t&&t(),r.resolve())},i.appendChild(u),r}});"undefined"!=typeof window&&(window.jQuery=window.jQuery||i),"object"===r(t)&&"object"===r(e)&&(e.exports=i)}).call(this,n(3)(e))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(17));var o=n(12),i=r.default;"undefined"==typeof window&&(window=e);var u=i.extend(u,{version:"1.2.0",type:null,_init:!1});u.init=function(e,t,n){u._init||(u._init=!0,(n=n||window.signalR||o)&&n.HubConnection?(u.type="netcore",Object.defineProperty(u,"isConnected",{get:function(){return u._connection&&1===u._connection.connection.connectionState}}),u=i.extend(u,{hubPath:e||"/dotnetify",url:t,reconnectDelay:[2,5,10],reconnectRetry:null,_connection:null,_reconnectCount:0,_startDoneHandler:null,_startFailHandler:null,_disconnectedHandler:function(){},_stateChangedHandler:function(e){},_onDisconnected:function(){u._changeState(4),u._disconnectedHandler()},_changeState:function(e){1==e&&(u._reconnectCount=0);u._stateChangedHandler({0:"connecting",1:"connected",2:"reconnecting",4:"disconnected",99:"terminated"}[e])},_startConnection:function(e,t){var r=u.url?u.url+u.hubPath:u.hubPath,o={};Object.keys(e).forEach(function(t){o[t]=e[t]}),o.transport=t.shift(),u._connection=(new n.HubConnectionBuilder).withUrl(r,o).build(),u._connection.on("response_vm",u.client.response_VM),u._connection.onclose(u._onDisconnected);var i=u._connection.start().then(function(){u._changeState(1)}).catch(function(){t.length>0?u._startConnection(e,t):u._onDisconnected()});return"function"==typeof u._startDoneHandler&&i.then(u._startDoneHandler).catch(u._startFailHandler||function(){}),i},start:function(e){u._startDoneHandler=null,u._startFailHandler=null;var t=[0],n={webSockets:0,serverSentEvents:1,longPolling:2};e&&Array.isArray(e.transport)&&(t=e.transport.map(function(e){return n[e]}));var r=u._startConnection(e,t);return{done:function(e){return u._startDoneHandler=e,r.then(e).catch(function(e){throw e}),this},fail:function(e){return u._startFailHandler=e,r.catch(e),this}}},disconnected:function(e){"function"==typeof e&&(u._disconnectedHandler=e)},stateChanged:function(e){"function"==typeof e&&(u._stateChangedHandler=e)},reconnect:function(e){if("function"==typeof e)if(!u.reconnectRetry||u._reconnectCount<u.reconnectRetry){var t=u._reconnectCount<u.reconnectDelay.length?u.reconnectDelay[u._reconnectCount]:u.reconnectDelay[u.reconnectDelay.length-1];u._reconnectCount++,setTimeout(function(){u._changeState(2),e()},1e3*t)}else u._changeState(99)},client:{},server:{dispose_VM:function(e){u._connection.invoke("Dispose_VM",e)},update_VM:function(e,t){u._connection.invoke("Update_VM",e,t)},request_VM:function(e,t){u._connection.invoke("Request_VM",e,t)}}})):(u.type="netfx",window.jQuery&&(i=window.jQuery),function(e,t,n){if("function"!=typeof e.signalR)throw new Error("SignalR: SignalR is not loaded. Please ensure jquery.signalR-x.js is referenced before ~/signalr/js.");var r=e.signalR;function o(t,n){return function(){n.apply(t,e.makeArray(arguments))}}function i(t,n){var r,i,u,a,s;for(r in t)if(t.hasOwnProperty(r)){if(!(i=t[r]).hubName)continue;for(u in s=n?i.on:i.off,i.client)if(i.client.hasOwnProperty(u)){if(a=i.client[u],!e.isFunction(a))continue;s.call(i,u,o(i,a))}}}e.hubConnection.prototype.createHubProxies=function(){var t={};return this.starting(function(){i(t,!0),this._registerSubscribedHubs()}).disconnected(function(){i(t,!1)}),t.dotNetifyHub=this.createHubProxy("dotNetifyHub"),t.dotNetifyHub.client={},t.dotNetifyHub.server={dispose_VM:function(n){return t.dotNetifyHub.invoke.apply(t.dotNetifyHub,e.merge(["Dispose_VM"],e.makeArray(arguments)))},request_VM:function(n,r){return t.dotNetifyHub.invoke.apply(t.dotNetifyHub,e.merge(["Request_VM"],e.makeArray(arguments)))},update_VM:function(n,r){return t.dotNetifyHub.invoke.apply(t.dotNetifyHub,e.merge(["Update_VM"],e.makeArray(arguments)))}},t},r.hub=e.hubConnection(u.hubPath,{useDefaultPath:!1}),e.extend(r,r.hub.createHubProxies())}(i,window),Object.defineProperty(u,"state",{get:function(){return i.connection.hub.state},set:function(e){i.connection.hub.state=e}}),Object.defineProperty(u,"client",{get:function(){return i.connection.dotNetifyHub.client}}),Object.defineProperty(u,"server",{get:function(){return i.connection.dotNetifyHub.server}}),Object.defineProperty(u,"isConnected",{get:function(){return i.connection.hub.state==i.signalR.connectionState.connected}}),u=i.extend(u,{hubPath:e||"/signalr",url:t,reconnectDelay:[2,5,10],reconnectRetry:null,_reconnectCount:0,_stateChangedHandler:function(e){},start:function(e){var t;return u.url&&(i.connection.hub.url=u.url),(t=e?i.connection.hub.start(e):i.connection.hub.start()).fail(function(e){e.source&&"Error parsing negotiate response."===e.source.message&&console.warn("This client may be attempting to connect to an incompatible SignalR .NET Core server.")}),t},disconnected:function(e){return i.connection.hub.disconnected(e)},stateChanged:function(e){return u._stateChangedHandler=e,i.connection.hub.stateChanged(function(t){1==t&&(u._reconnectCount=0);e({0:"connecting",1:"connected",2:"reconnecting",4:"disconnected"}[t.newState])})},reconnect:function(e){if("function"==typeof e)if(!u.reconnectRetry||u._reconnectCount<u.reconnectRetry){var t=u._reconnectCount<u.reconnectDelay.length?u.reconnectDelay[u._reconnectCount]:u.reconnectDelay[u.reconnectDelay.length-1];u._reconnectCount++,setTimeout(function(){u._stateChangedHandler("reconnecting"),e()},1e3*t)}else u._stateChangedHandler("terminated")}})))},t.default=u}).call(this,n(18))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(19)),o=n(2);var i={hub:r.default,hubOptions:{transport:["webSockets","longPolling"]},hubPath:null,hubServerUrl:null,debug:!1,debugFn:null,offline:!1,isOffline:!0,offlineTimeout:5e3,offlineCacheFn:null,connectionStateHandler:null,responseEvent:(0,o.createEventEmitter)(),reconnectedEvent:(0,o.createEventEmitter)(),connectedEvent:(0,o.createEventEmitter)(),connectionFailedEvent:(0,o.createEventEmitter)(),isConnected:function(){return r.default.isConnected},isHubStarted:function(){return!!i._hub},connect:function(e,t){return i.react.connect(e,null,t)},initHub:function(){null===i._hub&&(r.default.init(i.hubPath,i.hubServerUrl,i.hubLib),r.default.client.response_VM=function(e,t){Array.isArray(e)&&(t=e[1],e=e[0]),i.responseEvent.emit(e,t)||r.default.server.dispose_VM(e)},r.default.disconnected(function(){i._hub=null,r.default.reconnect(function(){i.reconnectedEvent.emit()})}),r.default.stateChanged(function(e){i._triggerConnectionStateEvent(e)}))},startHub:function(){var e=function(){i.connectedEvent.emit()};if(null===i._hub)try{i._hub=r.default.start(i.hubOptions).done(e).fail(function(e){throw i.connectionFailedEvent.emit(),i._triggerConnectionStateEvent("error",e),e})}catch(e){i._hub=null}else try{i._hub.done(e)}catch(e){return i._hub=null,i.startHub()}},checkServerSideException:function(e,t,n){var r=JSON.parse(t);if(r&&r.hasOwnProperty("ExceptionType")&&r.hasOwnProperty("Message")){var o={name:r.ExceptionType,message:r.Message};if("function"==typeof n)return n(o);throw console.error("["+e+"] "+o.name+": "+o.message),o}},requestVM:function(e,t){r.default.server.request_VM(e,t)},updateVM:function(e,t){r.default.server.update_VM(e,t)},disposeVM:function(e){r.default.server.dispose_VM(e)},_triggerConnectionStateEvent:function(e,t){i.debug&&console.log("SignalR: "+(t?t.message:e)),"function"==typeof i.connectionStateHandler?i.connectionStateHandler(e,t):t&&console.error(t)},_hub:null};t.default=i},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(4));n(9),e.exports=r.default}])});